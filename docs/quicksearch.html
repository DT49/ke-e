<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"arbitrary.js.html":{"id":"arbitrary.js.html","title":"Source: arbitrary.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: arbitrary.js /** * @module */ import _ from 'lodash'; import Random from 'random-js'; import assert from 'assert'; import {stdOpts} from './constants'; /** * A function to generate a function to take a random engine in random-js. * to generate a random value. * * @callback GeneratorMaker * @param {Engine} engine - engines provided in random-js. * The default is mt19937 with auto seeds. * @return {*} */ /** * Arguments of a GeneratorMaker. * @typedef {Array} GeneratorMakerOptions */ /** * Arbitrary Options. * @typedef {Object} ArbitraryOptions * @property {GeneratorMaker} gen * @property {GeneratorMakerOptions} opts */ /** * A function to generate a random value. * @callback Generator * @param {Engine} engine * @param {GeneratorMakerOptions} genOpts * @return {*} */ /** * Random generation and shrinking of values. */ class Arbitrary { /** * Create a arbitrary. * * @param {!ArbitraryOptions} opts the options of arbitrary creation. * @return {Arbitrary} */ constructor(opts) { assert(_.isObject(opts), 'opts must be an object.'); this._locale = 'en'; this._engine = null; this._gen = null; this._genOpts = null; this._transforms = [_.identity]; this.engine(opts.engine || stdOpts.engine); this.name(opts.name || 'Arbitrary-' + Random.uuid4(this._engine)); this.generator(opts.gen, opts.genOpts); } /** * Clone this arbitrary. * * @return {Arbitrary} */ clone() { return _.cloneDeep(this); } /** * Create a new arbitrary with new * inclusive range of its generator maker. * * @param {...*} * @return {Arbitrary} */ choose(...args) { let clone = this.clone(); clone._genOpts = args; return clone; } /** * Transform arbitrary A to arbitrary B. * * @param {function} transform function. * @return {Arbitrary} */ transform(f) { let clone = this.clone(); clone._transforms.push(f); return clone; } /** * Name this arbitrary. * * @param {string} name arbitrary name. * @return {Arbitrary} */ name(name) { if (name) { assert(_.isString(name) &amp;&amp; name.length &gt;= 3, 'name must be a sring of length &gt;= 3.'); this._name = name; return this; } else { return this._name; } } /** * Change locale. * * @param {!string} locale locale tag. * @return {Arbitrary|String} */ locale(locale) { if (locale){ let clone = this.clone(); clone._locale = locale; return clone; } else { return this._locale; } } /** * Set a random engine. * * @param {!Engine} engine * @return {Arbitrary} */ engine(engine) { assert(engine, 'engine is required.'); this._engine = engine; return this; } /** * Set a seed number. * * @param {!number} 32-bit integer. */ seed(seed) { this._engine.seed(seed); return this; } /** * Set a random value generator. * * @param {!GeneratorMaker} gen * @param {?GeneratorMakerOptions} opts * @return {Arbitrary} */ generator(gen, opts) { assert(_.isFunction(gen), 'gen must be a function.'); this._gen = gen.bind(this); if (opts) { assert(_.isArray(opts), 'opts must be an object.'); this._genOpts = opts; } return this; } /** * Make a generator. * * @return {Generator} */ makeGen() { return (engine, genOpts, locale) =&gt; { return _.flow(this._transforms)( this._gen.apply(this, genOpts || this._genOpts || [])(engine, locale)); }; } /** * Run a generator. * * @return {*} */ generate() { return this.makeGen()(this._engine, this._genOpts, this._locale); } /** * Generate some example values. * * @param {number} size * @return {Array&lt;*&gt;} */ sample(size = 30) { if (size !== undefined) { assert(_.isInteger(size) &amp;&amp; size &gt;= 0, 'size must be a postive integer.'); } return _.range(0, size).map(() =&gt; { return this.generate(); }); } } function isArbitrary(arb) { return arb instanceof Arbitrary; } /** * Transform a generator maker to an arbitrary. * * @param {!GeneratorMaker} * @param {?GeneratorMakerOptions} */ function fromGenMaker(gen, genOpts) { return new Arbitrary({ gen: gen, genOpts: genOpts }); } export { Arbitrary, fromGenMaker, isArbitrary }; × Search results Close "},"combinators.js.html":{"id":"combinators.js.html","title":"Source: combinators.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: combinators.js /** * @module */ import _ from 'lodash'; import Random from 'random-js'; import {Arbitrary} from './arbitrary'; /** * Generates a contant value. * * @param {*} value * @returns {Arbitrary} * * @example * // returns 1. * hc.constant(1).generate(); */ export function constant(value) { return new Arbitrary({ name: 'Constant', gen: () =&gt; () =&gt; value }); } /** * Generates a value that satisfies a predicate. * * @param {!Arbitrary} arb - an arbitrary. * @param {!function} predicate - a predicate function. * @returns {Arbitrary} * * @example * // returns even number. * hc.suchThat(hc.int, (n) =&gt; n / 2 === 0).generate(); */ export function suchThat(arb, predicate) { let oriGen = arb.makeGen(); let clone = arb.clone(); let newGenerator = function (...genOpts) { return function (engine) { let x; let j = 0; for (let i=0;;i++) { j++; if (i &gt; 5) { i = 0; } x = oriGen(engine, genOpts); if (j &gt; 5000) { throw new Error('can not find value in this range.'); } if (predicate(x)) { break; } } return x; }; }; clone.generator(newGenerator); return clone; } /** * Randomly uses one of the given generators. The input list must be non-empty. * * @param {!Arbitrary[]} arbs * @returns {Arbitrary} * * @example * // Produces a boolean or an integer. * hc.oneOf(hc.bool, hc.int).generate(); */ export function oneOf(arbs) { return new Arbitrary({ name: 'OneOf', gen: function (pool) { return function (engine) { let arb = pool[Random.integer(0, arbs.length - 1)(engine)]; return arb.makeGen()(engine); }; }, genOpts: [arbs] }); } /** * Generates a pair of two arbitraries. * * @param {!Arbitrary} arb1 * @param {!Arbitrary} arb2 * @return {Arbitrary} * * @example * hc.pair(hc.int, hc.int).generate(); * * @example * // choose different arbitraries. * hc.pair(hc.int, hc.int).choose(hc.bool, hc.bool).generate(); */ export function pair(arb1, arb2) { return new Arbitrary({ name: 'Pair', gen: function(a1, a2) { return function(engine) { return [a1.engine(engine).generate(), a2.engine(engine).generate()]; }; }, genOpts: [arb1, arb2] }); } /** * Generates an array of random length. * * @param {Arbitrary} arb * @return {Arbitrary} * * @example * // Produces an array of integer that the length between 1 and 3. * hc.array(hc.int).choose(1, 3).generate(); */ export function array(arb) { return new Arbitrary({ name: 'Array', gen: function (min, max) { return function(engine) { return _.range(0, Random.integer(min, max)(engine)).map(() =&gt; { return arb.makeGen()(engine); }); }; }, genOpts: [0, 30] }); } /** * * Generates an non-empty array. * * @param {Arbitrary} * @return {Arbitrary} */ export function nearray(arb) { return array(arb).choose(1, 30).name('Non-Empty Array'); }; /** * Generate a object. * * Takes an object as a template and will go through the enumerable own * properties of object and expanding. * * @param {Object} spec an object * @return {Arbitrary} * * @example * // return {k: 1234}; * hc.object({k: hc.int}).generate(); */ export function object(spec) { return new Arbitrary({ name: 'Object', gen: function(spec) { return function(engine) { let o = {}; Object.keys(spec).forEach((k) =&gt; { o[k] = spec[k].engine(engine).generate(); }); return o; }; }, genOpts: [spec] }); } /** * Generates one of the given values. The input list must be non-empty. * * @param {Array} pool * @return {Arbitrary} * * @example * // returns 1 or 'a'; * hc.elements([1, 'a']).generates(); */ export function elements(pool) { return new Arbitrary({ name: 'Elements', gen: function() { return function (engine) { let e = pool[Random.integer(0, pool.length - 1)(engine)]; return constant(e).makeGen()(engine); }; } }); } × Search results Close "},"constants.js.html":{"id":"constants.js.html","title":"Source: constants.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: constants.js /** * @module */ import Random from 'random-js'; const mt19937 = Random.engines.mt19937().autoSeed(); /** * Options specifies arguments to the HyCheck driver. * * @typedef {Object} CheckOptions * @property {number} tests The max number of tests. * @property {random-js.engine} engine Any engine of Random-Js. * @property {number} seed 32 bits integer. */ /** The default check options. * @type {CheckOptions} */ export const stdOpts = { tests : 100, engine : mt19937, seed: mt19937() }; × Search results Close "},"testable.js.html":{"id":"testable.js.html","title":"Source: testable.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: testable.js /** * @module */ import _ from 'lodash'; import Random from 'random-js'; import assert from 'assert'; import {stdOpts} from './constants'; import {isArbitrary} from './arbitrary'; import {constant} from './combinators'; /** * @callback Formula * @param {random-js.engine} engine * @return {FormulaResult} */ /** * @typedef {Object} FormulaResult The result of evaluating formula. * @property {boolean} success formula is valid. * @property {Array&lt;*&gt;} counterExample samples falsy this formula. * @property {Exception} e */ /** * @typedef {Object} CheckResult * @property {number} numTests * @property {number} totalTests tot * @property {boolean} pass * @property {string} reason * @property {FormulaResult} testResult */ /** * For All Quntalifier. * */ class ForAll { /** * Create a ForAll. * * @param {Array} arbs arbitraries * @return {ForAll} * @example * new ForAll([hc.int, hc.int]) */ constructor(arbs) { this.arbs = arbs; } /** * Evaluating a test. * * @param {function} f any function takes generated values as parameters. * @param {?random-js.Engine} random engine. * @return {*} * @example * new ForAll([hc.int]).eval(x =&gt; x + 1); */ eval(f, engine) { function genValue(arb) { if (engine) { arb.engine(engine); } return arb.generate(); }; return f.apply(null, this.arbs.map(genValue)); } /** * Make a formula. * * @param {function} predicate * @return {Formula} */ makeFormula(predicate) { return (engine) =&gt; { let samples = this.arbs.map(arb =&gt; { if (engine) { arb.engine(engine); } return arb.generate(); }); try { let success = !!predicate.apply(null, samples); return { success: success, counterExample: samples }; } catch (e) { return { success: false, counterExample: samples, exception: e }; } }; } } /** * Property. */ class Property { /** * @param {string} name * @param {function} predicate * @return {Property} */ constructor(name, predicate) { this.name = name; this.predicate = predicate; } /** * Test this property over quantifilers. * * @param {...Arbitrary} arbs. * @param {?CheckOptions} opts check options. * @return {Property} */ over(...args) { let isOpts = e =&gt; _.isObject(e) &amp;&amp; !isArbitrary(e); let arbs = isOpts(args[args.length - 1]) ? args.slice(0, -1) : args; let quantifilers = _.every(arbs, isArbitrary) ? arbs : arbs.map(constant); let testName = this.name; it(testName, (done) =&gt; { let result = this.check(new ForAll(quantifilers)); assert(result.pass, `${testName} doesn't hold, ${result.reason}` + `, tried: ${result.numTests}/${result.totalTests}`); done(); }); return this; } /** * Check this property. * * @param {ForAll} quantifler quantifler. * @param {?CheckOptions} opts check options. * @return {CheckResult} * * @example * * new Property('identity', n =&gt; n === n).check(hc.forall(hc.int)); */ check(quantifiler, opts = stdOpts) { assert(opts.tests &gt; 0, 'tests must more than 0.'); assert(opts.engine, 'engine is required'); assert(opts.seed, 'seed is required'); let result = { numTests: 1, totalTests: opts.tests, pass: false }; if (process.env.HCSeed) { opts.seed = process.env.HCSeed; } opts.engine.seed(opts.seed); for (let i = result.numTests; i &lt;= opts.tests; i++) { let r = quantifiler.makeFormula(this.predicate)(opts.engine); result.numTests = i; if (r.success) { result.pass = true; } else { result.pass = false; result.reason = formatFalure(opts.seed, r); result.testResult = r; break; } } return result; } } function formatFalure(seed, result) { let rngStateMsg= `seed: ${seed}`; let msg = `${rngStateMsg}, counter example: ${result.counterExample}`; if (result.exception) { msg += `, exception: ${result.exception}`; } return msg; } /** * Create a ForAll. * * @param {...Arbitrary} arbs arbitraries. * @return {ForAll} */ function forall(...arbs) { return new ForAll(arbs); } /** * A helper function to run a proposition test in mocha. * * @example * hc.hold( * 'communicative' // property name. * (x, y) =&gt; x + y === y + x // predicate. * ) * .over(1, 2) // especially case. * .over(hc.int, hc.int) // universal case. * */ function hold(name, predicate) { return new Property(name, predicate); } export { Property, hold, forall }; × Search results Close "},"types_any.js.html":{"id":"types_any.js.html","title":"Source: types/any.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: types/any.js /** * @module */ import {bool} from './boolean'; import {falsy} from './falsy'; import {int, number} from './number'; import {string} from './string'; import {oneOf} from '../combinators'; /** * Any Primitive Type Arbitrary. * * @type {Arbitrary} */ export const any = oneOf([ bool, falsy, int, number, string ]).name('Any'); × Search results Close "},"types_boolean.js.html":{"id":"types_boolean.js.html","title":"Source: types/boolean.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: types/boolean.js /** * @module */ import Random from 'random-js'; import {fromGenMaker} from '../arbitrary'; /** * Boolean Arbitrary * * produce true and false with equal probability. * * @type {Arbitrary} * * @example * // returns true * hc.bool.generate() * * @example * // Produce a boolean with the specified chance causing it to be true. * let chance = 10; * hc.bool.choose(chance).generate(); */ export const bool = fromGenMaker(Random.bool).name('Boolean'); × Search results Close "},"types_datetime.js.html":{"id":"types_datetime.js.html","title":"Source: types/datetime.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: types/datetime.js /** * @module */ import Random from 'random-js'; import {fromGenMaker} from '../arbitrary'; /** * Date Arbitrary * * @type {Arbitrary} * * @example * // generate a random date. * hc.date.generate(); * * @example * // generate a random date between 2000/01/01 and 2016/01/01. * let newDate = hc.date.choose(new Date(2000, 01, 01), new Date(2016, 01,01)); * newDate.generate(); */ export const date = fromGenMaker( Random.date, [new Date(1984, 3, 25), new Date()]) .name('Date'); × Search results Close "},"types_falsy.js.html":{"id":"types_falsy.js.html","title":"Source: types/falsy.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: types/falsy.js /** * @module */ import {elements} from '../combinators'; /** * falsy values. * * @type {Array} */ export const FALSY_VALUES = [ undefined, void(0), null, false, 0, '' ]; /** * Falsy Arbitrary * * generates falsy values: false, null, undefined, '', * 0, void(0) and NaN. * * @type {Arbitrary} * * @example * hc.falsy.generate(); */ export const falsy = elements(FALSY_VALUES).name('Falsy'); × Search results Close "},"types_function.js.html":{"id":"types_function.js.html","title":"Source: types/function.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: types/function.js /** * @module */ import {Arbitrary} from '../arbitrary'; import {oneOf, array} from '../combinators'; import {any} from './any'; /** * Function Arbitrary * * @type {Arbitrar} * * @example * * let f = hc.func(hc.int).generate(); * f() // return an integer. */ export const func = new Arbitrary({ name: 'Function', gen: function(outputArb = oneOf([any, array(any)])) { return function(engine) { return function() { return outputArb.engine(engine).generate(); }; }; } }); × Search results Close "},"types_number.js.html":{"id":"types_number.js.html","title":"Source: types/number.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: types/number.js /** * @module */ import Random from 'random-js'; import {fromGenMaker} from '../arbitrary'; /** * Integer Arbitrary * * @type {Arbitrary} * * @example * // Produce an integer within inclusive range [-5, 5]. * hc.int.choose(-5, 5).generate(); */ export const int = fromGenMaker(Random.integer, [-Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER]).name('Integer'); /** * Positive Integer Arbitary * * @type {Arbitary} */ export const pint = int .choose(0, Number.MAX_SAFE_INTEGER) .name('Positive Integer'); /** * Negative Arbitrary * * @type {Arbitrary} */ export const nint = int. choose(-Number.MAX_SAFE_INTEGER, -1) .name('Negative Integer'); /** * Nature Number Arbitary * * @type {Arbitrary} */ export const nat = int .choose(1, Number.MAX_SAFE_INTEGER) .name('Nat'); /** * Nature Number Arbitary * * @type {Arbitrary} */ export const number = fromGenMaker( Random.real , [-Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER]) .name('Number'); /** * Positive Number Arbitary * * @type {Arbitrary} */ export const pnumber = number .choose(0, Number.MAX_SAFE_INTEGER) .name('Positive Number'); /** * Negative Number Arbitary * * @type {Arbitrary} */ export const nnumber = number .choose(-Number.MAX_SAFE_INTEGER, -0.0000000001) .name('Negative Number'); × Search results Close "},"types_person_index.js.html":{"id":"types_person_index.js.html","title":"Source: types/person/index.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: types/person/index.js /** * @module */ import {Arbitrary} from '../../arbitrary'; import {elements} from '../../combinators'; import {getDef} from '../../utils'; import definietions from './definitions'; const firstName = new Arbitrary({ gen: function() { return function(engine, locale) { let pool = getDef(definietions, locale, 'firstName'); return elements(pool).engine(engine).generate(); } } }); export default { firstName } × Search results Close "},"types_string.js.html":{"id":"types_string.js.html","title":"Source: types/string.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: types/string.js /** * @module */ import _ from 'lodash'; import Random from 'random-js'; import {int} from './number'; import {fromGenMaker} from '../arbitrary'; import {array, nearray} from '../combinators'; const _char = int.transform(String.fromCharCode); export const ASCII_RANGE_MIN = 0x0020; export const ASCII_RANGE_MAX = 0x007F; export const UNICODE_RANGES_MIN = 0x0020; export const UNICODE_RANGES_MAX = 0xE007F; /** * Unicode Character Arbitrary. * * @type {Arbitrary} * * @example * // generate a unicode character. * hc.char.generate(); * * @example * // change character ranges. here we use ASCII range. * // and yes, this is how hc.asciichar be made. * hc.char.choose(0x0020, 0x007F).generate(); */ export const char = _char .choose(UNICODE_RANGES_MIN, UNICODE_RANGES_MAX) .name('Char'); /** * Unicode String Arbitrary. * * @type {Arbitrary} * * * @example * // generate a unicode string. the length between 0 and 30 by default. * hc.string.generate(); * * @example * // you can set minimun and maximun length. * hc.string.choose(1, 5).generate(); */ export const string = stringOf(char).name('String'); /** * Nom-empty Unicode String Arbitrary. * * @type {Arbitrary} */ export const nestring = nestringOf(char).name('Non-Empty String'); /** * Ascii Character Arbitrary. * * @type {Arbitrary} * * @example * // generate a ascii character. * hc.asciichar.generate(); */ export const asciichar = char .choose(ASCII_RANGE_MIN, ASCII_RANGE_MAX) .name('ASCII Char'); /** * Ascii String Arbitrary. * * @type {Arbitrary} * * @example * // generate a unicode string. the length between 0 and 30 by default. * hc.asciistring.generate(); * * @example * // you can set minimun and maximun length. * hc.asciistring.choose(1, 5).generate(); */ export const asciistring = stringOf(asciichar) .name('ASCII String'); /** * Ascii String Arbitrary. * * @type {Arbitrary} */ export const neasciistring = nestringOf(asciichar) .name('Non-Empty ASCII String'); /** * UUID version 4 Arbitrary. * * @type {Arbitrary} */ export const uuid4 = fromGenMaker(Random.uuid4).name('UUID version 4'); /** * Create a string arbitrary based on given character arbitrary. * * @param {Arbitrary} any arbitrary to generate a character. * @return {Arbitrary} a string arbitrary. * * @example * // this is how we make a hc.`string`. * hc.stringOf(hc.char).generate(); * * @example * // generate a string that the character is 'a', 'b' or 'c'. * hc.stringOf(hc.elements(['a','b', 'c'])).generate(); * * @example * // yes, minimun and maximun length still can be changed. * hc.stringOf(hc.elements(['a','b', 'c'])).choose(0, 3).generate(); */ export function stringOf(charArb) { return array(charArb).transform(chars =&gt; chars.join('')).name('stringOf'); } /** * same to stringOf but produce non-empty string. */ export function nestringOf(charArb) { return nearray(charArb).transform(chars =&gt; chars.join('')).name('nestringOf'); } × Search results Close "},"utils.js.html":{"id":"utils.js.html","title":"Source: utils.js","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Source: utils.js /** * @module */ import _ from 'lodash'; /** * Merge namespace * * @param {!Object} namespace * @param {!string} name * @returns {Object} */ export function liftExport(namespace, name) { _.forOwn(namespace[name], (v, k) =&gt; { namespace[k] = v; }); return namespace; } /** * Get a definietion. * * @param {Object} definietions * @param {string} locale * @param {string} key * @return {Object} */ export function getDef(defs, locale, key) { let _locale = locale.replace(/-/g, '_'); let _def = defs[_locale] return _def[key]; } × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Modules Classes Arbitrary ForAll Property × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Classes Classes Arbitrary ForAll Property × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property HyCheckHyCheck is a property-based testing library, inspired by QuickCheck, Hypothesis, JSVerify. Features Property-based test utilitis library. Repeatable random fake data generators. Mocha test framwork integration. check documents for more details. Property-Based TestingProperty-based tests make statements about the output of your code based on the input, and these statements are verified for many different possible inputs. By default, hc.hold runs 100 tests. it reports a counter example does not satisfy the property if any test fail. for example, the following test. describe('Int', () =&gt; { hc.hold( '&gt; 0', // property name. x =&gt; x &gt; 0 // predicate. ) .over(0) // first especially case. .over(2) // second especially case. .over(hc.int) // universal case. })will report: 1) Int &gt; 0: AssertionError: &gt; 0 doesn't hold, counter example: -5, tried: 1/100 + expected - actual -false +trueException-Based TestingYou can still use chai to do the testing with random test values generated by hycheck. describe('Nat', () =&gt; { it('&gt;= 0', () =&gt; { hc.forall(hc.nat).eval((n) =&gt; { expect(n &gt;= 0).eq(true); }); } })Repeatabletest results are repeatable. $ mocha 1) Int &gt;0: AssertionError: &gt;0 doesn't hold, seed: -1764850555, counter example: -5265798245849472, tried: 3/3`HCSeed=-1764850555 mocha 1) Int &gt;0: AssertionError: &gt;0 doesn't hold, seed: -1764850555, counter example: -5265798245849472, tried: 3/3`i18n support// Generate English first name. hc.person.firstName.generate(); // Generate Tranditional Chinese first name. hc.person.firstName.locale('zh-Hant-TW').generate();InstallationNode.jsinstall the module with: npm install hycheck import hc from `hycheck` describe('Integer', () =&gt; { hc.hold( 'x + y = y + x' (x, y) =&gt; x + y === y + x ).over(hc.int, hc.int); });Browser using script tagDownload hycheck.js and place it in your project, then add it as the follwoing. &lt;script src=&quot;dist/hycheck.js&quot;&gt;&lt;/script&gt; &lt;script&gt; describe('Integer', () =&gt; { hc.hold( 'x + y = y + x' (x, y) =&gt; x + y === y + x ).over(hc.int, hc.int); }); &lt;/script&gt;LicenseThe MIT License (MIT) × Search results Close "},"module-arbitrary.html":{"id":"module-arbitrary.html","title":"Module: arbitrary","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: arbitrary Source: arbitrary.js, line 1 Classes Arbitrary Methods &lt;inner&gt; fromGenMaker(gen, genOpts) Transform a generator maker to an arbitrary. Parameters: Name Type Argument Description gen GeneratorMaker genOpts GeneratorMakerOptions &lt;nullable&gt; Source: arbitrary.js, line 207 Type Definitions ArbitraryOptions Arbitrary Options. Type: Object Properties: Name Type Description gen GeneratorMaker opts GeneratorMakerOptions Source: arbitrary.js, line 24 Generator(engine, genOpts) A function to generate a random value. Parameters: Name Type Description engine Engine genOpts GeneratorMakerOptions Source: arbitrary.js, line 31 Returns: Type * GeneratorMaker(engine) A function to generate a function to take a random engine in random-js. to generate a random value. Parameters: Name Type Description engine Engine engines provided in random-js. The default is mt19937 with auto seeds. Source: arbitrary.js, line 9 Returns: Type * GeneratorMakerOptions Arguments of a GeneratorMaker. Type: Array Source: arbitrary.js, line 19 × Search results Close "},"module-arbitrary-Arbitrary.html":{"id":"module-arbitrary-Arbitrary.html","title":"Class: Arbitrary","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Class: Arbitrary arbitrary~ Arbitrary Random generation and shrinking of values. new Arbitrary(opts) Create a arbitrary. Parameters: Name Type Description opts ArbitraryOptions the options of arbitrary creation. Source: arbitrary.js, line 42 Methods choose(args) Create a new arbitrary with new inclusive range of its generator maker. Parameters: Name Type Argument Description args * &lt;repeatable&gt; Source: arbitrary.js, line 76 Returns: Type Arbitrary clone() Clone this arbitrary. Source: arbitrary.js, line 66 Returns: Type Arbitrary engine(engine) Set a random engine. Parameters: Name Type Description engine Engine Source: arbitrary.js, line 131 Returns: Type Arbitrary generate() Run a generator. Source: arbitrary.js, line 177 Returns: Type * generator(gen, opts) Set a random value generator. Parameters: Name Type Argument Description gen GeneratorMaker opts GeneratorMakerOptions &lt;nullable&gt; Source: arbitrary.js, line 152 Returns: Type Arbitrary locale(locale) Change locale. Parameters: Name Type Description locale string locale tag. Source: arbitrary.js, line 115 Returns: Type Arbitrary | String makeGen() Make a generator. Source: arbitrary.js, line 166 Returns: Type Generator name(name) Name this arbitrary. Parameters: Name Type Description name string arbitrary name. Source: arbitrary.js, line 98 Returns: Type Arbitrary sample(size) Generate some example values. Parameters: Name Type Description size number Source: arbitrary.js, line 186 Returns: Type Array.&lt;*&gt; seed(32-bit) Set a seed number. Parameters: Name Type Description 32-bit number integer. Source: arbitrary.js, line 141 transform(transform) Transform arbitrary A to arbitrary B. Parameters: Name Type Description transform function function. Source: arbitrary.js, line 87 Returns: Type Arbitrary × Search results Close "},"module-combinators.html":{"id":"module-combinators.html","title":"Module: combinators","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: combinators Source: combinators.js, line 1 Methods &lt;static&gt; array(arb) Generates an array of random length. Parameters: Name Type Description arb Arbitrary Source: combinators.js, line 123 Returns: Type Arbitrary Example // Produces an array of integer that the length between 1 and 3. hc.array(hc.int).choose(1, 3).generate(); &lt;static&gt; constant(value) Generates a contant value. Parameters: Name Type Description value * Source: combinators.js, line 18 Returns: Type Arbitrary Example // returns 1. hc.constant(1).generate(); &lt;static&gt; elements(pool) Generates one of the given values. The input list must be non-empty. Parameters: Name Type Description pool Array Source: combinators.js, line 187 Returns: Type Arbitrary Example // returns 1 or 'a'; hc.elements([1, 'a']).generates(); &lt;static&gt; nearray(arb) Generates an non-empty array. Parameters: Name Type Description arb Arbitrary Source: combinators.js, line 144 Returns: Type Arbitrary &lt;static&gt; object(spec) Generate a object. Takes an object as a template and will go through the enumerable own properties of object and expanding. Parameters: Name Type Description spec Object an object Source: combinators.js, line 161 Returns: Type Arbitrary Example // return {k: 1234}; hc.object({k: hc.int}).generate(); &lt;static&gt; oneOf(arbs) Randomly uses one of the given generators. The input list must be non-empty. Parameters: Name Type Description arbs Array.&lt;Arbitrary&gt; Source: combinators.js, line 73 Returns: Type Arbitrary Example // Produces a boolean or an integer. hc.oneOf(hc.bool, hc.int).generate(); &lt;static&gt; pair(arb1, arb2) Generates a pair of two arbitraries. Parameters: Name Type Description arb1 Arbitrary arb2 Arbitrary Source: combinators.js, line 100 Returns: Type Arbitrary Examples hc.pair(hc.int, hc.int).generate(); // choose different arbitraries. hc.pair(hc.int, hc.int).choose(hc.bool, hc.bool).generate(); &lt;static&gt; suchThat(arb, predicate) Generates a value that satisfies a predicate. Parameters: Name Type Description arb Arbitrary an arbitrary. predicate function a predicate function. Source: combinators.js, line 36 Returns: Type Arbitrary Example // returns even number. hc.suchThat(hc.int, (n) =&gt; n / 2 === 0).generate(); × Search results Close "},"module-constants.html":{"id":"module-constants.html","title":"Module: constants","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: constants Source: constants.js, line 1 Members &lt;static, constant&gt; stdOpts :CheckOptions The default check options. Type: CheckOptions Source: constants.js, line 20 Type Definitions CheckOptions Options specifies arguments to the HyCheck driver. Type: Object Properties: Name Type Description tests number The max number of tests. engine random-js.engine Any engine of Random-Js. seed number 32 bits integer. Source: constants.js, line 8 × Search results Close "},"module-testable.html":{"id":"module-testable.html","title":"Module: testable","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: testable Source: testable.js, line 1 Classes ForAll Property Methods &lt;inner&gt; forall(arbs) Create a ForAll. Parameters: Name Type Argument Description arbs Arbitrary &lt;repeatable&gt; arbitraries. Source: testable.js, line 189 Returns: Type ForAll &lt;inner&gt; hold() A helper function to run a proposition test in mocha. Source: testable.js, line 205 Example hc.hold( 'communicative' // property name. (x, y) =&gt; x + y === y + x // predicate. ) .over(1, 2) // especially case. .over(hc.int, hc.int) // universal case. Type Definitions CheckResult Type: Object Properties: Name Type Description numTests number totalTests number tot pass boolean reason string testResult FormulaResult Source: testable.js, line 24 Formula(engine) Parameters: Name Type Description engine random-js.engine Source: testable.js, line 11 Returns: Type FormulaResult FormulaResult The result of evaluating formula. Type: Object Properties: Name Type Description success boolean formula is valid. counterExample Array.&lt;*&gt; samples falsy this formula. e Exception Source: testable.js, line 17 × Search results Close "},"module-testable-ForAll.html":{"id":"module-testable-ForAll.html","title":"Class: ForAll","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Class: ForAll testable~ ForAll For All Quntalifier. new ForAll(arbs) Create a ForAll. Parameters: Name Type Description arbs Array arbitraries Source: testable.js, line 37 Methods eval(f, random) Evaluating a test. Parameters: Name Type Argument Description f function any function takes generated values as parameters. random random-js.Engine &lt;nullable&gt; engine. Source: testable.js, line 58 Returns: Type * Example new ForAll([hc.int]).eval(x =&gt; x + 1); makeFormula(predicate) Make a formula. Parameters: Name Type Description predicate function Source: testable.js, line 73 Returns: Type Formula × Search results Close "},"module-testable-Property.html":{"id":"module-testable-Property.html","title":"Class: Property","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Class: Property testable~ Property Property. new Property(name, predicate) Parameters: Name Type Description name string predicate function Source: testable.js, line 102 Methods check(quantifler, opts) Check this property. Parameters: Name Type Argument Description quantifler ForAll quantifler. opts CheckOptions &lt;nullable&gt; check options. Source: testable.js, line 144 Returns: Type CheckResult Example new Property('identity', n =&gt; n === n).check(hc.forall(hc.int)); over(opts) Test this property over quantifilers. Parameters: Name Type Argument Description arbs. Arbitrary &lt;repeatable&gt; opts CheckOptions &lt;nullable&gt; check options. Source: testable.js, line 119 Returns: Type Property × Search results Close "},"module-types_any.html":{"id":"module-types_any.html","title":"Module: types/any","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: types/any Source: types/any.js, line 1 Members &lt;static, constant&gt; any :Arbitrary Any Primitive Type Arbitrary. Type: Arbitrary Source: types/any.js, line 15 × Search results Close "},"module-types_boolean.html":{"id":"module-types_boolean.html","title":"Module: types/boolean","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: types/boolean Source: types/boolean.js, line 1 Members &lt;static, constant&gt; bool :Arbitrary Boolean Arbitrary produce true and false with equal probability. Type: Arbitrary Source: types/boolean.js, line 23 Examples // returns true hc.bool.generate() // Produce a boolean with the specified chance causing it to be true. let chance = 10; hc.bool.choose(chance).generate(); × Search results Close "},"module-types_datetime.html":{"id":"module-types_datetime.html","title":"Module: types/datetime","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: types/datetime Source: types/datetime.js, line 1 Members &lt;static, constant&gt; date :Arbitrary Date Arbitrary Type: Arbitrary Source: types/datetime.js, line 21 Examples // generate a random date. hc.date.generate(); // generate a random date between 2000/01/01 and 2016/01/01. let newDate = hc.date.choose(new Date(2000, 01, 01), new Date(2016, 01,01)); newDate.generate(); × Search results Close "},"module-types_falsy.html":{"id":"module-types_falsy.html","title":"Module: types/falsy","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: types/falsy Source: types/falsy.js, line 1 Members &lt;static, constant&gt; falsy :Arbitrary Falsy Arbitrary generates falsy values: false, null, undefined, '', 0, void(0) and NaN. Type: Arbitrary Source: types/falsy.js, line 31 Example hc.falsy.generate(); &lt;static, constant&gt; FALSY_VALUES :Array falsy values. Type: Array Source: types/falsy.js, line 11 × Search results Close "},"module-types_function.html":{"id":"module-types_function.html","title":"Module: types/function","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: types/function Source: types/function.js, line 1 Members &lt;static, constant&gt; func :Arbitrar Function Arbitrary Type: Arbitrar Source: types/function.js, line 18 Example let f = hc.func(hc.int).generate(); f() // return an integer. × Search results Close "},"module-types_number.html":{"id":"module-types_number.html","title":"Module: types/number","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: types/number Source: types/number.js, line 1 Members &lt;static, constant&gt; int :Arbitrary Integer Arbitrary Type: Arbitrary Source: types/number.js, line 16 Example // Produce an integer within inclusive range [-5, 5]. hc.int.choose(-5, 5).generate(); &lt;static, constant&gt; nat :Arbitrary Nature Number Arbitary Type: Arbitrary Source: types/number.js, line 43 &lt;static, constant&gt; nint :Arbitrary Negative Arbitrary Type: Arbitrary Source: types/number.js, line 34 &lt;static, constant&gt; nnumber :Arbitrary Negative Number Arbitary Type: Arbitrary Source: types/number.js, line 71 &lt;static, constant&gt; number :Arbitrary Nature Number Arbitary Type: Arbitrary Source: types/number.js, line 52 &lt;static, constant&gt; pint :Arbitary Positive Integer Arbitary Type: Arbitary Source: types/number.js, line 25 &lt;static, constant&gt; pnumber :Arbitrary Positive Number Arbitary Type: Arbitrary Source: types/number.js, line 62 × Search results Close "},"module-types_person_index.html":{"id":"module-types_person_index.html","title":"Module: types/person/index","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: types/person/index Source: types/person/index.js, line 1 × Search results Close "},"module-types_string.html":{"id":"module-types_string.html","title":"Module: types/string","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: types/string Source: types/string.js, line 1 Members &lt;static, constant&gt; asciichar :Arbitrary Ascii Character Arbitrary. Type: Arbitrary Source: types/string.js, line 67 Example // generate a ascii character. hc.asciichar.generate(); &lt;static, constant&gt; asciistring :Arbitrary Ascii String Arbitrary. Type: Arbitrary Source: types/string.js, line 84 Examples // generate a unicode string. the length between 0 and 30 by default. hc.asciistring.generate(); // you can set minimun and maximun length. hc.asciistring.choose(1, 5).generate(); &lt;static, constant&gt; char :Arbitrary Unicode Character Arbitrary. Type: Arbitrary Source: types/string.js, line 31 Examples // generate a unicode character. hc.char.generate(); // change character ranges. here we use ASCII range. // and yes, this is how hc.asciichar be made. hc.char.choose(0x0020, 0x007F).generate(); &lt;static, constant&gt; neasciistring :Arbitrary Ascii String Arbitrary. Type: Arbitrary Source: types/string.js, line 92 &lt;static, constant&gt; nestring :Arbitrary Nom-empty Unicode String Arbitrary. Type: Arbitrary Source: types/string.js, line 56 &lt;static, constant&gt; string :Arbitrary Unicode String Arbitrary. Type: Arbitrary Source: types/string.js, line 49 Examples // generate a unicode string. the length between 0 and 30 by default. hc.string.generate(); // you can set minimun and maximun length. hc.string.choose(1, 5).generate(); &lt;static, constant&gt; uuid4 :Arbitrary UUID version 4 Arbitrary. Type: Arbitrary Source: types/string.js, line 100 Methods &lt;static&gt; nestringOf() same to stringOf but produce non-empty string. Source: types/string.js, line 127 &lt;static&gt; stringOf(any) Create a string arbitrary based on given character arbitrary. Parameters: Name Type Description any Arbitrary arbitrary to generate a character. Source: types/string.js, line 120 Returns: a string arbitrary. Type Arbitrary Examples // this is how we make a hc.`string`. hc.stringOf(hc.char).generate(); // generate a string that the character is 'a', 'b' or 'c'. hc.stringOf(hc.elements(['a','b', 'c'])).generate(); // yes, minimun and maximun length still can be changed. hc.stringOf(hc.elements(['a','b', 'c'])).choose(0, 3).generate(); × Search results Close "},"module-utils.html":{"id":"module-utils.html","title":"Module: utils","body":" HyCheck Modules arbitrarycombinatorsconstantstestabletypes/anytypes/booleantypes/datetimetypes/falsytypes/functiontypes/numbertypes/person/indextypes/stringutils Classes arbitrary~Arbitrarytestable~ForAlltestable~Property Module: utils Source: utils.js, line 1 Methods &lt;static&gt; getDef(definietions, locale, key) Get a definietion. Parameters: Name Type Description definietions Object locale string key string Source: utils.js, line 28 Returns: Type Object &lt;static&gt; liftExport(namespace, name) Merge namespace Parameters: Name Type Description namespace Object name string Source: utils.js, line 13 Returns: Type Object × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
